Do the following task:

$ARGUMENTS

REMBER!

Take as much time as you need to do this
Make as many tool calls as you need
Avoid duplicating any functionality that may exist; take care to do discovery
Don't make any changes that you're not at least 95% are correct and optimal
Remember to ultrathink like you never have before
